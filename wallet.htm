<!DOCTYPE HTML>

<!-- HTML5 WebSocket WebChat 2018 (C) Domero -->

<html>

<head>

  <title>FCC Private Wallet</title>
  <meta name="description" content="Manage your private wallet" />
  <meta name="author" content="(C) 2018, Chaosje, Domero, Groningen." />
  <meta name="copyright" content="(C) 2018, Chaosje, Domero, Groningen." />
  <meta name="robots" content="none" />
  <meta charset="UTF-8" />
	<link type="image/png" href="/image/favicon-16.png" sizes="16x16" rel="icon" />
	<link type="image/png" href="/image/favicon-32.png" rel="icon" sizes="32x32" />

</head>
<script>
	var wserver = 'ws://127.0.0.1:5115';
	var connected = 0;
	var beenconnected = 0;
	var activewallet = "";
	var passbusy = 0;
	var wallets = {};
	var eabmode = 0;

  function chatout(txt) {
    var st=document.getElementById('status');
    st.innerHTML = st.innerHTML + "<br />" + txt;
    st.scrollTop=st.scrollHeight;
  }
  function mineout(txt) {
    var st=document.getElementById('mineoutput');
    st.innerHTML = st.innerHTML + "<br />" + txt;
    st.scrollTop=st.scrollHeight;
  }
  function connect() {
    if ("WebSocket" in window) {
      chatout("** WebSockets supported ..<br />** Opening WebSocket on " + wserver + " ..");
    } else if (window.MozWebSocket) {
      chatout("*** WebSockets supported (Mozilla) ..<br />** Opening WebSocket on " + wserver + " ..");
      window.WebSocket=window.MozWebSocket;
    } else {
      chatout("** WebSockets NOT supported !! You won't be able to use this software in this brwoser! Upgrade your browser!!!!");
      return
    }
    socket = new WebSocket(wserver);
    socket.onopen = function() {
      chatout("** Connected to the WebSocket Server");
      connected=1; beenconnected=1;
      socket.send('init')
    }
    socket.onmessage = function(evt) {
      // arg is usally the time !!!!
      var ml=evt.data.split(" ");
      var target=ml.shift(); var arg=ml[0]; var par=ml[1]; var txt=ml.join(" ");
      if (target == 'status') {
      	chatout(txt)
      }
      else if (target == 'miner') {
        mineout(txt)
      }
      else if (target == 'minerstop') {
        stopminer()
      }
      else if (target == 'node') {
      	setnode(arg)
      }
      else if (target == 'getpass') {
      	document.getElementById('graybg').style.visibility='visible';
      	document.getElementById('passbox').style.visibility='visible';
      	document.getElementById('wachtwoord').focus();
      	passbusy=1
      }
      else if (target == 'passok') {
      	document.getElementById('graybg').style.visibility='hidden';
      	document.getElementById('passbox').style.visibility='hidden';
      	passbusy=0
      }
      else if (target == 'passinvalid') {
      	document.getElementById('passerr').innerHTML='Invalid password. Please try again';
      }
      else if (target == 'addwallet') {
      	var wallet=ml.shift(); var name=ml.join(" ");
      	addwallet(wallet,name)
      }
      else if (target == 'actwal') {
      	activatewallet(arg)
      }
      else if (target == 'balance') {
      	setbalance(arg,par)
      }
      else if (target == 'adrbook') {
      	var wallet=ml.shift(); var name=ml.join(" ");
      	adrbook(wallet,name)
      }
      else if (target == 'transerr') {
      	transerr(txt)
      }
      else if (target == 'transok') {
        transok(arg,par,ml[2],ml[3])
      }
      else if (target == 'transtotal') {
      	document.getElementById('transtotal').innerHTML=arg
      }
    }
    socket.onclose = function() {
    	if (connected) {
        chatout("** Lost connection to the WebSocket Server. Please refresh.");
      }
      gorefresh()
    }
    socket.onerror = function() {
    	if (connected) {
        chatout("** WebSocket Server Error. Please refresh.");
      } else {
      	chatout("** The WebSocket Server is offline. Please restart FCC.")
      }
      gorefresh()
    }
  }
  function start() {
  	connect()
  }
  function gorefresh() {
  	document.getElementById('graybg').style.visibility='visible';
  	document.getElementById('refresh').style.visibility='visible';
  }
  function checkenter(e,id) {
    if (e.which == 13 || e.keyCode == 13) { 
      var obj = document.getElementById(id);
      obj.select(); obj.focus()
    }
  }
  function checksubmit(e,id) {
    if (e.which == 13 || e.keyCode == 13) { 
      var obj = document.getElementById(id);
      obj.click();
    }
  }
  function checkdigit(e,id) {
  	var txt=document.getElementById(id).value;
  	txt = txt.replace(",",".");
  	txt = txt.replace(/[^0-9.]/g,"");
  	document.getElementById(id).value=txt
  }
  function checkhexpaste(id) {
  	var txt=document.getElementById(id).value;
  	txt = txt.toUpperCase();
  	txt = txt.replace(/[^0-9A-F]/g,"");
  	document.getElementById(id).value=txt
  }
  function checkhex(e,id) {
  	checkhexpaste(id)
  }
  function checkpass() {
  	var pass = document.getElementById("wachtwoord").value;
  	socket.send('pass ' + pass)
  }
  function passprotect() {
  	if (passbusy) { return }
   	document.getElementById('graybg').style.visibility='visible';
   	document.getElementById('newpassbox').style.visibility='visible';
  	document.getElementById('newpasserr').innerHTML="";
   	document.getElementById('newpass').focus();
   	document.getElementById('newpass').select();
  }
  function cancelnewpass() {
   	document.getElementById('graybg').style.visibility='hidden';  	
   	document.getElementById('newpassbox').style.visibility='hidden';  	
  }
  function setnewpass() {
  	document.getElementById('newpasserr').innerHTML="";
   	var pass=document.getElementById('newpass').value;
   	if (pass != '') {
   		var vld=document.getElementById('newpassvld').value;
   		if (vld != pass) {
   			document.getElementById('newpasserr').innerHTML='The passwords are not the same'
   		}
   		else {
        socket.send("newpass " + pass);
      	document.getElementById('graybg').style.visibility='hidden';
      	document.getElementById('newpassbox').style.visibility='hidden';
   		}
   	}
   	else {
   		document.getElementById('newpasserr').innerHTML='No password given'
   	}
  }
  function setnode(node) {
  	document.getElementById('node').innerHTML="Node: " + node;
  }
  function addwallet(wallet,name) {
  	var obj=document.createElement("DIV");
  	obj.id='W' + wallet;
  	obj.classList.add("iwal");
  	obj.classList.add("muis");
  	if (name != "") {
    	obj.innerHTML=name + " (" +wallet + ")"
    }
    else {
    	obj.innerHTML=wallet;
    }
  	obj.addEventListener("click",function() { activatewallet(this.id.substring(1)) },false);
  	document.getElementById("wallets").appendChild(obj);
  	wallets[wallet]=name
  }
  function activatewallet(wallet) {
  	document.getElementById("wallet").innerHTML=wallet;
  	document.getElementById("from").innerHTML="[ no name ] (" + wallet + ")";
  	document.getElementById("walname").style.visibility='visible';
	  document.getElementById("fcc").style.visibility='visible';
	  document.getElementById("copywallet").style.visibility='visible';
	  document.getElementById("savewalbut").style.visibility='visible';
    if (activewallet != "") {
      document.getElementById(activewallet).style.background='#cceeff';
      document.getElementById(activewallet).style.color='#2060a0';
    }
  	socket.send('balance ' + wallet);
  	var wobj = 'W' + wallet;
  	document.getElementById(wobj).style.background='#20aa60';
  	document.getElementById(wobj).style.color='#ffffff';
  	var wname=document.getElementById(wobj).innerHTML;
  	var ws=wname.split(" "); ws.pop(); wname=ws.join(" ");
  	document.getElementById("walname").value=wname;
  	if (wname) {
	  	document.getElementById("from").innerHTML=wname + " (" + wallet + ")";
  	}
  	var i; var cwo=document.getElementById("change"); var cwl=cwo.options;
  	for (i=cwl.length-1;i>=0;i--) { cwo.remove(i) }
  	var cho=document.createElement("OPTION");
    cho.value=wallet;
    cwo.add(cho);
    cwo.selectedIndex=0;
    var wl=document.getElementById("wallets").children;
    for (i=1;i<wl.length;i++) {
    	if (wl[i].id != wobj) {
      	var cho=document.createElement("OPTION");
        cho.value=wl[i].id.substr(1);
        cho.text=wl[i].innerHTML;
        cwo.add(cho);
    	} else {
    		cwo.options[0].text=wl[i].innerHTML;
    	}
    }
  	activewallet=wobj
  }
  function setbalance(balance,wallet) {
  	if (document.getElementById("wallet").innerHTML == wallet) {
  	  document.getElementById("balance").innerHTML=balance;
    	showdelwal(balance)
  	}
  }
  function getwallet() {
  	return document.getElementById("wallet").innerHTML
  }
  function createwallet() {
  	if (passbusy) { return }
  	socket.send("createwallet")
  }
  function openchat() {
  	document.getElementById('openchat').style.display='none';
  	var obj=document.createElement("IFRAME");
  	obj.id='chatframe';
  	obj.src="http://chat.lichtsnel.nl?channel=crypto";
  	obj.style.width="100%";
  	obj.style.height="100%";
  	document.getElementById('chatcont').appendChild(obj)
  }
  function savewalname() {
  	var name=document.getElementById("walname").value;
  	var wallet=getwallet();
  	if (wallet.length == 68) {
  	  socket.send("setname " + wallet + " " + name);
  	  wallets[wallet]=name
  	}
  	var wid="W" + wallet;
  	document.getElementById(wid).innerHTML=name + " (" +wallet + ")";
  }
  function copywal() {
  	var txt=document.getElementById("wallet").innerHTML;
  	if (window.clipboardData && window.clipboardData.setData) {
      // IE specific code path to prevent textarea being shown while dialog is visible.
      clipboardData.setData("Text", txt);
    }
    else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
      var textarea = document.createElement("textarea");
      textarea.textContent = txt;
      textarea.style.position = "fixed";  // Prevent scrolling to bottom of page in MS Edge.
      document.body.appendChild(textarea);
      textarea.select();
      try {
        document.execCommand("copy");  // Security exception may be thrown by some browsers.
    	  document.getElementById("copied").innerHTML="Wallet address copied to clipboard";
      } catch (ex) {
    	  document.getElementById("copied").innerHTML="NOT copied. " + ex;
      } finally {
        document.body.removeChild(textarea);
      }
    }
  	window.setTimeout(function(){ document.getElementById("copied").innerHTML="";},1500)
  }
  function showdelwal(balance) {
  	if (balance == '0.00000000') {
  	  document.getElementById("delwalbut").style.visibility='visible'
  	}
  	else {
  	  document.getElementById("delwalbut").style.visibility='hidden'  		
  	}
  }
  function delwal() {
  	if (window.confirm("ARE YOU SURE ?\n\nAlthough this wallet is now empty,\nif you have ever published it,\nit still may receive money in the future.\n\nOnly confirm if you have never published this wallet.")) {
  		var wallet=getwallet();
  		socket.send('delwallet ' + wallet);
  	  document.getElementById("delwalbut").style.visibility='hidden';
  	  document.getElementById("fcc").style.visibility='hidden';
  	  document.getElementById("copywallet").style.visibility='hidden';
  	  document.getElementById("savewalbut").style.visibility='hidden';
  	  document.getElementById("wallet").innerHTML="[none]";
  	  document.getElementById("from").innerHTML="[none]";
    	document.getElementById("walname").style.visibility='hidden';
  	  document.getElementById("balance").innerHTML="";
  	  var obj=document.getElementById("W" + wallet);
    	document.getElementById("wallets").removeChild(obj);
    	activewallet="";
    	var wlist=document.getElementById("wallets").children;
    	if (wlist.length>1) {
    		var wid=wlist[1].id;
        activatewallet(wid.substr(1))
      }
  	}
  }
  function startminer() {
    var wallet = getwallet();
    document.getElementById('minewallet').innerHTML=wallet;
    document.getElementById('startminer').style.visibility='hidden';
    document.getElementById('stopminer').style.visibility='visible';
    mineout('Miner started!');
    socket.send('startminer ' + wallet)
  }
  function stopminer() {
    document.getElementById('minewallet').innerHTML="";
    document.getElementById('startminer').style.visibility='visible';
    document.getElementById('stopminer').style.visibility='hidden';
    mineout('Miner stopped!');
    socket.send('stopminer')
  }
  function transerr(txt) {
  	if (eabmode) {
    	document.getElementById('aeerr').innerHTML=txt
  	} else {
  	  document.getElementById('transerr').innerHTML=txt
  	}
  }
  function adrbook(wallet,name) {
  	var option = document.createElement("option");
    option.text = name; option.value=wallet;
    document.getElementById('adrbook').add(option);
    wallets[wallet]=name
  }
  function setadrbook() {
  	var idx=document.getElementById('adrbook').selectedIndex;
  	var list=document.getElementById('adrbook').options;
  	var wallet=list[idx].value;
  	document.getElementById('to').value=wallet
  }
  function saveadrbook() {
  	transerr("");
  	var to=document.getElementById('to').value;
  	var name=document.getElementById('newadrbook').value;
  	if ((to != '') && (name != '')) {
  		socket.send('adrbook ' + to + ' ' + name);
    	document.getElementById('newadrbook').value=""
  	} else {
    	transerr("Please fill in a wallet-address and the name of the recipient")
  	}
  }
  function addtrans() {
  	transerr("");
  	var amount=document.getElementById('amount').value;
  	var fee=document.getElementById('fee').value;
  	var to=document.getElementById('to').value;
    if ((to != "") && (amount != "0.00000000")) {
    	socket.send('checktrans ' + to + ' ' + amount + ' ' + fee)
  	} else {
    	transerr("Please fill in an amount and the wallet-address of the recipient")
    }
  }
  function transok(nr,amount,fee,total) {
    var tout=document.createElement("DIV");
    tout.classList.add("transoutitem");
    tout.id='transout_' + nr;
    var wallet=document.getElementById('to').value;
    var name="[ No name ]";
    if (wallets[wallet] != null) { name=wallets[wallet] }

    var wout=document.createElement("DIV");
    wout.classList.add("walletout");
    wout.innerHTML=name + ' (' + wallet + ')';
    tout.appendChild(wout);

    var taout=document.createElement("DIV");
    taout.classList.add("totalout");
    taout.innerHTML=total;
    tout.appendChild(taout);

    var aout=document.createElement("DIV");
    aout.classList.add("amountout");
    aout.innerHTML="Amount: " + amount;
    tout.appendChild(aout);

    var fout=document.createElement("DIV");
    fout.classList.add("feeout");
    var spacing="";
    var ldec=amount.split("."); var dec=ldec[0]; var dn=dec.length;
    var lfdec=fee.split("."); var fdec=lfdec[0]; var dfn=fdec.length;
    while (dn>dfn) { spacing = spacing + '&nbsp;'; dn-- }
    fout.innerHTML="&nbsp;&nbsp;&nbsp;Fee: " + spacing + fee;
    tout.appendChild(fout);

    var dout=document.createElement("IMG");
    dout.id="delout_" + nr;
    dout.src="image/del.png";
    dout.height="26";
    dout.classList.add('delout');
    dout.classList.add('muis');
    dout.addEventListener("click",delout,false);
    tout.appendChild(dout);

    document.getElementById('transoutbox').appendChild(tout);
  }
  function delout(e) {
    var id=e.target.id; var lid=id.split("_"); var nr=lid[1];
    var obj=document.getElementById('transout_' + nr);
    document.getElementById('transoutbox').removeChild(obj);
    socket.send('deltrans ' + nr)
  }
  function transfer() {
  	var total=document.getElementById('transtotal').innerHTML;
  	var amount=document.getElementById('balance').innerHTML;
  	if (total == '0.00000000') {
  		transerr("No transactions to send")
  	} else if (parseFloat(amount) < parseFloat(total)) {
  		transerr("This wallet has insufficient funds to make this transaction")
  	} else {
    	document.getElementById('graybg').style.visibility='visible';
    	var wallet=document.getElementById("wallet").innerHTML;
    	var wbar=document.getElementById("W" + wallet).innerHTML;
    	document.getElementById("tcfrom").innerHTML=wbar;
    	document.getElementById("tctotal").innerHTML=total;
    	var chwal=document.getElementById('change');
    	document.getElementById("tcchange").innerHTML=chwal.options[chwal.selectedIndex].text;
     	var list=document.getElementsByClassName("tcoutblock");
     	var cf=document.getElementById("tcout");
     	var i;
     	for (i = list.length-1; i>=0; i--) {
        cf.removeChild(list[i])
      }
      var oblist=document.getElementsByClassName("transoutitem");
     	for (i = 0; i < oblist.length; i++) {
        var wobj=oblist[i].children[0];
        var aobj=oblist[i].children[2];
        var fobj=oblist[i].children[3];
        var vo=document.createElement("DIV");
        vo.classList.add("tcoutblock");
        var vow=document.createElement("DIV");
        vow.classList.add("tcoutwal");
        vow.innerHTML=wobj.innerHTML;
        vo.appendChild(vow)
        var voa=document.createElement("DIV");
        voa.classList.add("tcoutamount");
        voa.innerHTML=aobj.innerHTML.split(" ")[1];
        vo.appendChild(voa)
        var vof=document.createElement("DIV");
        vof.classList.add("tcoutfee");
        vof.innerHTML=fobj.innerHTML.split(" ")[1];
        vo.appendChild(vof);
        cf.appendChild(vo)
      }
     	document.getElementById('transconfirm').style.visibility='visible';
  	}
  }
  function tccancel() {
   	document.getElementById('transconfirm').style.visibility='hidden';
   	document.getElementById('graybg').style.visibility='hidden';
  }
  function tcok() {
  	tccancel();
   	var cf=document.getElementById("transoutbox");
    var list=document.getElementsByClassName("transoutitem");
   	var i;
   	for (i = 0; i < list.length; i++) {
      cf.removeChild(list[i])
    }
  	document.getElementById('amount').value='0.00000000';
  	document.getElementById('fee').value='0.5';
  	document.getElementById('to').value="";
  	document.getElementById('transtotal').innerHTML='0.00000000';
  	document.getElementById('adrbook').selectedIndex=0;
  	var wallet=getwallet(); var cobj=document.getElementById('change');
  	var chwal=cobj.options[cobj.selectedIndex].value;
  	socket.send('transfer ' + wallet + ' ' + chwal)
  }
  function aeerase() {
  	var cf=document.getElementById("ablist");
    var list=cf.children;
   	var i;
   	for (i = list.length-1; i>=0; i--) {
      cf.removeChild(list[i])
    }
  }
  function aefill() {
  	var list=document.getElementById('adrbook').options;
  	var i; var abl=document.getElementById("ablist");
  	for (i=1;i<list.length;i++) {
  		var wallet=list[i].value; var name=list[i].text;
  		var block=document.createElement("DIV");
      block.classList.add("abblock");
      var bw=document.createElement("DIV");
      bw.id='bw_' + i;
      bw.classList.add("abbwal");
      bw.innerHTML=wallet;
      block.appendChild(bw);
      var bnc=document.createElement("DIV");
      bnc.classList.add("abnc");
      var bn=document.createElement("INPUT");
      bn.id='bn_' + i;
      bn.classList.add("abbname");
      bn.value=name;
      bn.addEventListener('change',changeadrbook,false);
      bnc.appendChild(bn);
      block.appendChild(bnc);
      var bs=document.createElement("IMG");
      bs.id='bs_' + i;
      bs.classList.add("abbsave");
      bs.classList.add("muis");
      bs.src="image/save.png";
      bs.height="40";
      bs.addEventListener('click',changeadrbook,false);
      block.appendChild(bs);
      var bd=document.createElement("IMG");
      bd.id='bd_' + i;
      bd.classList.add("abbdel");
      bd.classList.add("muis");
      bd.src="image/del.png";
      bd.height="40";
      bd.addEventListener('click',deladrbook,false);
      block.appendChild(bd);
      abl.appendChild(block)
  	}  	
  }
  function changeadrbook(e) {
  	var id=e.target.id; var ids=id.split('_');
    var wallet=document.getElementById('bw_' + ids[1]).innerHTML;
    var name=document.getElementById('bn_' + ids[1]).value;
    document.getElementById('adrbook').options[ids[1]].text=name;
   	wallets[wallet]=name;
    socket.send("chadrbook " + wallet + ' ' + name)
  }
  function deladrbook(e) {
  	var id=e.target.id; var ids=id.split('_');
    var wallet=document.getElementById('bw_' + ids[1]).innerHTML;
    var name=document.getElementById('bn_' + ids[1]).value;
    if (confirm("Are you sure you want to delete wallet '" + name + "'\n(" + wallet + ") ?")) {
      socket.send('deladrbook ' + wallet);
      document.getElementById("adrbook").remove(ids[1]);
      aeerase(); aefill()
    }
  }
  function adrbookinterface() {
  	eabmode=1; transerr("");
  	document.getElementById('abnewwal').value="";
  	document.getElementById('abnewname').value="";
  	aefill();
   	document.getElementById('graybg').style.visibility='visible';
   	document.getElementById('editadrbook').style.visibility='visible';
  }
  function aeok() {
  	eabmode=0; aeerase();
   	document.getElementById('editadrbook').style.visibility='hidden';  	
   	document.getElementById('graybg').style.visibility='hidden';
  }
  function aeadd() {
  	transerr("");
  	var adr=document.getElementById('abnewwal').value;
  	var name=document.getElementById('abnewname').value;
  	if ((adr != '') && (name != '')) {
  		socket.send('adrbook ' + adr + ' ' + name);
  	} else {
    	transerr("Please fill in a wallet-address and the name of the recipient")
  	}
  }

</script>

<style>
  body {
    background: #f0f8ff;
    padding: 0; margin: 0;
  }
  * {
    outline: none;
  }
  br {
    display: block; /* makes it have a width */
    content: ""; /* clears default height */
    margin-top: 0; /* change this to whatever height you want it */
  }
  ::-webkit-scrollbar {
    width: 18px;
  } 
  ::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3); 
    border-radius: 10px;
  } 
  ::-webkit-scrollbar-thumb {
    border-radius: 10px;
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5); 
  }
  .muis:hover {
    cursor: pointer;
  }
  .cont {
  	position: absolute;
  	left: 0px; right: 0px; bottom: 0px; top: 0px;
  	margin: auto;
  }
  #graybg {
  	position: fixed;
  	left: 0px; right: 0px; bottom: 120px; top: 0px;
  	margin: auto;
  	background: #a0a0a0;
    opacity: 0.8;
    z-index: 50;
    visibility: hidden;
  }
  #refresh {
  	position: absolute;
  	left: 0; right: 0; bottom: 120px; top: 0;
  	margin: auto;
  	width: 450px; height: 160px;
  	border: 3px solid red;
  	padding: 10px;
  	padding-top: 60px;
  	background: black;
  	color: white;
  	font-family: Verdana;
  	font-size: 26px;
  	text-align: center;
  	z-index: 200;
  	visibility: hidden;
  }
  #status {
  	position: fixed;
  	left: 0; right: 0; bottom: 0; height: 100px;
  	margin: auto;
  	overflow: auto;
  	padding: 7px;
  	border: 3px ridge #205090;
  	background: white;
  	color: black;
  	font-size: 13px;
  	font-family: "Lucida Console";
  }
  .centbox {
    position: fixed;
    top: 0; left: 0; bottom: 220px; right: 0;
    margin: auto;
  }
  .loginbox {  
    width: 450px;
    height: 170px;
    padding: 15px;
    overflow: none;
    border-radius: 15px;
    border: 1px ridge #4589a0;
    font-family: verdana;
    font-size: 20px;
    color: #004;
    box-shadow: 6px 6px 3px #888888;
    background: #f0f4ff;
    z-index: 100;
    visibility: hidden;
  }
  #newpassbox {
  	height: 190px;
  }
  .tmarg {
    margin-top: 20px;
  }
  .t {
    width: 95%;
  }
  .itext {
    text-align: right;
    padding-right: 7px;
    font-family: tahoma;
    font-size: 18px;
    color: #004;
  }
  .ival {
    padding-left: 5px;
    padding-right: 5px;
    width: 100%;
    border-radius: 5px;
    background: #f0fdff;
    color: #005;
    font-family: arial;
    font-size: 16px;
  }
  .tdr {
    text-align: right;
    padding-right: 10px;
    padding-top: 15px;
    width: 100%;
  }
  .sbut {
    width: 80px;
    text-align: center;
    margin-left: auto;
    border-style: outset;
    border-radius: 10px;
    border-width: 3px;
    border-color: #8090b0;
    color: #f0f3ff;
    background: #607090;
    font-family: verdana;
    font-weight: bold;
  }
  .cancbut {
  	width: 110px;
  }
  .errtxt {
    font-family: tahoma;
    font-size: 12px;
    color: #800;
    font-weight: bold;
  }
  #active {
  	position: fixed;
  	left: 0; top: 0; right: 0; height: 150px;
   	margin: auto;
  	overflow: none;
  	background: white;
  	color: black;
  	padding: 7px;
  	border: 3px ridge #205090;
  	font-size: 13px;
  	font-family: Verdana;
  }
  #winleft {
  	position: fixed;
  	left: 3px; top: 173px; width: 650px; bottom: 123px;
   	margin: auto;
  	overflow: none;
  	background: #ddddff;
  }
  #winright {
  	position: fixed;
  	left: 656px; top: 173px; right: 3px; bottom: 123px;
   	margin: auto;
  	overflow: none;
  	background: #ddddff;
  }
  #wallets {
  	position: absolute;
  	left: 0px; top: 0px; right: 0px; height: 150px;
   	margin: auto;
  	overflow: auto;
  	padding: 7px;
  	border: 3px ridge #205090;
  	background: white;
  	color: black;
  	font-size: 18px;
  	font-family: Verdana;
  }
  #trans {
  	position: absolute;
  	left: 0px; top: 197px; bottom: 0px; right: 0px;
   	margin: auto;
   	margin-top: 3px;
  	overflow: auto;
  	padding: 7px;
  	border: 3px ridge #205090;
  	background: white;
  	color: black;
  	font-size: 18px;
  	font-family: Verdana;
  }
  .space {
  	width: 100%; height: 4px;
  }
  .belowbut {
  	position: absolute;
  	top: 167px;
  	height: 22px;
   	margin: auto;
  	background: #b3b3b9;
  	color: black;
  	border-left: 1px solid #eeeeee;
  	border-top: 1px solid #eeeeee;
  	border-bottom: 2px solid #222222;
  	border-right: 2px solid #222222;
  	border-bottom-left-radius: 10px;
  	border-bottom-right-radius: 10px;
  	padding-top: 2px;
  	padding-bottom: 3px;
  	padding-left: 10px;
  	padding-right: 10px;
  	font-size: 18px;
  	font-family: Tahoma;
  	text-align: center;
  	text-shadow: -1px -1px white;
  }
  #create {
  	left: 6px;
  	width: 170px;
  }
  #passprotect {
  	left: 210px;
  	width: 170px;
  }
  #adrbookselect {
  	left: 414px;
  	width: 170px;
  }
  #chat {
  	position: absolute;
  	left: 3px; top: 0px; right: 0px; bottom: 208px;
   	margin: auto;
  	overflow: auto;
  	padding: 0;
  	border: 3px ridge #205090;
  	background: white;
  }
  #miner {
  	position: absolute;
  	left: 3px; bottom: 0px; right: 0px; height: 200px;
   	margin: auto;
  	overflow: auto;
  	padding: 0;
  	border: 3px ridge #205090;
  	background: white;  	
  }
  .selbut {
  	padding-left: 10px;
  	padding-right: 10px;
  	padding-top: 5px;
  	padding-bottom: 5px;
  	font-family: Verdana;
  	font-size: 24px;
  	font-weight: bold;
  	text-shadow: -1px -1px #ffffff;
  	text-align: center;
  	letter-spacing: 2px;  	
  }
  .greenbut {
  	border-left: 2px solid #aeeeae;
  	border-top: 2px solid #aeeeae;
  	border-bottom: 2px solid #002200;
  	border-right: 2px solid #002200;
  	border-radius: 12px;
  	color: #50c090;
  	background: #208030;
  }
  .redbut {
  	border-left: 2px solid #ffaeae;
  	border-top: 2px solid #ffaeae;
  	border-bottom: 2px solid #220000;
  	border-right: 2px solid #220000;
  	border-radius: 12px;
  	color: #c05090;
  	background: #802030;
  }
  .bluebut {
  	border-left: 2px solid #aeaeff;
  	border-top: 2px solid #aeaeff;
  	border-bottom: 2px solid #000022;
  	border-right: 2px solid #000022;
  	border-radius: 12px;
  	color: #5090c0;
  	background: #203080;
  }
  #openchat {
  	position: absolute;
  	left: 10px; top: 10px; width: 220px;
  }
  #startminer {
  	position: absolute;
  	left: 10px; top: 10px; width: 220px;
  }
  #stopminer {
  	position: absolute;
  	left: 10px; top: 10px; width: 220px;
  	visibility: hidden;
  }
  .iwal {
  	font-family: "Lucida Console";
  	font-size: 13px;
  	font-weight: bold;
  	color: #2060a0;
  	background: #cceeff;
  	padding: 4px;
  	border: 1px solid #000080;
  	margin-bottom: 2px;
  	white-space: nowrap; 
    overflow: hidden;
    text-overflow: clip;
  }
  #wallet {
  	position: absolute;
  	left: 340px;
  	top: 20px;
  	font-family: "Lucida Console";
  	font-size: 22px;
  	font-weight: bold;
  	color: #107020;
  }  
  #balance {
  	position: absolute;
  	left: 400px;
  	top: 120px;
  	font-family: Arial;
  	font-size: 32px;
  	font-weight: bold;
  	color: #203090;
  }
  #fcc {
  	position: absolute;
  	left: 350px;
  	top: 120px;
  	visibility: hidden;
  }
  #walname {
  	position: absolute;
  	left: 510px;
  	top: 50px;
  	height: 30px;
  	width: 720px;
  	font-size: 20px;
  	visibility: hidden;
  }
  #savewalbut {
  	position: absolute;
  	left: 1255px;
  	top: 48px;
  	visibility: hidden;
  }
  #copywallet {
  	position: absolute;
  	left: 340px; top: 50px; width: 130px;
  	font-size: 18px;
  	visibility: hidden;
  }
  #delwalbut {
  	position: absolute;
  	left: 1070px;
  	width: 200px;
  	top: 118px;
  	font-size: 18px;
  	visibility: hidden;
  }
  #copied {
  	position: absolute;
  	left: 350px; top: 90px;
  	font-family: arial;
  	font-size: 18px;
  	font-weight: bold;
  	color: #004000;
  }
  #minewallet {
  	position: absolute;
  	left: 20px; top: 58px;
  	font-family: "Lucida Console";
    font-size: 16px;
    font-weight: bolder;
    color: #606030;
  }
  #mineoutput {
  	position: absolute;
  	left: 5px; top: 78px; bottom: 5px; right: 5px;
  	margin: auto;
  	overflow: auto;
  	padding: 3px;
  	border: 1px black solid;
	  font-family: "Lucida Console";
    font-size: 16px;
    font-weight: bolder;
    color: #000020;  
  }
  #transbox {
  	position: absolute;
  	left: 3px; right: 3px; bottom: 3px; top: 32px;
  	background: #f0f0f0;
  }
  .tfnt {
  	position: absolute;
  	width: 80px;
  	text-align: right;
  	font-family: verdana;
  	font-size: 18px;
  	color: black;
  }
  .tafnt {
  	position: absolute;
  	font-family: verdana;
  	font-size: 18px;
  	color: black;
  }
  #from {
  	position: absolute;
  	top: 10px; left: 95px;
  	font-family: "Lucida Console";
  	font-size: 12px;
  	color: #000080;  	
  }
  #amount {
  	position: absolute;
  	top: 40px; left: 95px;
  	width: 200px;
  	font-family: "Lucida Console";
  	padding: 3px;
  	font-size: 18px;
  	color: #000040;
  	border: 1px blue solid;
  }
  #fee {
  	position: absolute;
  	top: 40px; left: 400px;
  	width: 120px;
  	font-family: "Lucida Console";
  	padding: 3px;
  	font-size: 18px;
  	color: #000040;
  	border: 1px blue solid;
  }
  #to {
  	position: absolute;
  	top: 70px; left: 95px;
  	width: 290px;
  	font-family: "Lucida Console";
  	padding: 3px;
  	font-size: 18px;
  	color: black;
  	border: 1px blue solid;
  }
  #newadrbook {
  	position: absolute;
  	top: 100px; left: 315px;
  	width: 270px;
  	font-family: "Verdana";
  	padding: 3px;
  	font-size: 18px;
  	color: black;
  	border: 1px #603000 solid;
  }
  #adrbook {
  	position: absolute;
  	top: 70px; left: 400px; width: 230px;
  	height: 28px;
  	background: #603000;
  	font-family: Tahoma;
  	font-size: 16px;
  	color: white;
  	padding-left: 3px;
  }
  #change {
  	position: absolute;
  	bottom: 40px; left: 185px; width: 300px;
  	height: 18px;
  	background: #003060;
  	font-family: Tahoma;
  	font-size: 12px;
  	color: white;
  	padding-left: 3px;  	
  }
  #saveadrbook {
  	position: absolute;
  	top: 97px; left: 596px;
  }
  #transerr {
  	position: absolute;
  	left: 100px; top: 137px;
  	width: 310px;
  	font-family: Verdana;
  	font-size: 16px;
  	color: red;
  	font-weight: bold;
  }
  #addtransbut {
  	position: absolute;
  	left: 430px; top: 140px;
  	font-size: 16px;
  }
  #transoutbox {
  	position: absolute;
  	left: 3px; top: 180px; right: 3px; bottom: 70px;
  	margin: auto;
  	overflow: auto;
  	background: #e0e0e0;
  	padding: 3px;
  }
  .transoutitem {
  	position: relative;
  	left: 0; right: 0; height: 50px;
  	border-bottom: 1px solid #800000;
  	margin-bottom: 3px;
  }
  .walletout {
  	position: absolute;
  	left: 3px; top: 3px;
  	right: 10px; height: 18px;
  	white-space: nowrap; 
    overflow: hidden;
  	text-overflow: clip;
  	color: #600000;
  	font-family: "Lucida Console";
  	font-size: 13px;
  }
  .totalout {
  	position: absolute;
  	right: 10px; top: 30px;
    color: #a00000;
  	font-family: "Lucida Console";
  	font-size: 20px;
  }
  .amountout {
  	position: absolute;
  	left: 10px; top: 20px;
    color: #900000;
  	font-family: "Lucida Console";
  	font-size: 14px;
  }
  .feeout {
  	position: absolute;
  	left: 10px; top: 35px;
    color: #900000;
  	font-family: "Lucida Console";
  	font-size: 14px;
  }
  .delout {
  	position: absolute;
  	right: 3px; top: 3px;
  }
  #ttot {
  	position: absolute;
  	left: 12px; bottom: 4px;
  }
  #transtotal {
  	position: absolute;
  	left: 45px; bottom: 5px;
    color: #a00000;
  	font-family: "Lucida Console";
  	font-size: 20px;
  }
  #transbut {
  	position: absolute;
  	right: 10px; bottom: 3px;
  	font-size: 16px;  	
  }
  #transconfirm {
  	position: absolute;
  	left: 150px; top: 100px; bottom: 250px; right: 150px;
  	background: #f0fff0;
  	border: 3px blue solid;
  	z-index: 50;
  	font-family: verdana;
  	font-size: 26px;
  	font-weight: bold;
  	color: #000030;
  	padding-left: 15px;
  	padding-top: 5px;
  	visibility: hidden;
  }
  .tctit {
  	position: absolute;
  	left: 30px; right: 30px;
  	border-bottom: 1px solid #000050;
  	font-family: verdana;
  	font-size: 22px;
  	color: #000090;
  }
  #tcfrom {
  	position: absolute;
  	left: 40px; top: 85px;
  	font-family: "Lucida Console";
  	font-size: 20px;
  	color: #000030;  	
  }
  #tcout {
  	position: absolute;
  	left: 40px; top: 165px; right: 30px; bottom: 220px;
  	font-family: "Lucida Console";
  	font-size: 14px;
  	color: #000030;
  	overflow: auto;
  	background: #e0ffe0;
  }
  .tcoutblock {
    position: relative;
    left: 0px; right: 0px; height: 40px;
  }
  .tcoutwal {
  	position: absolute;
  	left: 0px; top: 0px; right: 150px;
   	white-space: nowrap; 
    overflow: hidden;
    text-overflow: clip;
  }
  .tcoutamount {
  	position: absolute;
  	top: 0px; right: 0px;
  	color: #a00000;
  	font-size: 16px;
  }
  .tcoutfee {
  	position: absolute;
  	top: 22px; right: 0px;
  	color: #800000;
  	font-size: 12px;
  }
  #tcchange {
  	position: absolute;
  	bottom: 142px; left: 40px; right: 30px;
  	color: #000060;
  	font-size: 16px;
  }
  #tctotal {
  	position: absolute;
  	bottom: 75px; right: 30px;
  	color: #c00000;
  	font-size: 24px;
  }
  #tcok {
  	position: absolute;
  	bottom: 15px; right: 230px;
  	font-size: 22px;
  }
  #tccancel {
  	position: absolute;
  	bottom: 15px; right: 30px;
  	font-size: 22px;
  }
  #editadrbook {
  	position: absolute;
  	left: 150px; top: 100px; bottom: 250px; right: 150px;
  	background: #f0fff0;
  	border: 3px blue solid;
  	z-index: 50;
  	font-family: verdana;
  	font-size: 26px;
  	font-weight: bold;
  	color: #000030;
  	padding-left: 15px;
  	padding-top: 5px;
  	visibility: hidden;
  }
  #ablist {
  	position: absolute;
  	left: 30px; right: 30px; top: 50px; bottom: 220px;
  	overflow: auto;
  }
  .abblock {
  	position: relative;
  	left: 0; right: 0; height: 48px;
  	margin-bottom: 8px;
  	background: #e0f0e0;
  }
  .abbwal {
  	position: absolute;
  	left: 0; top: 3px; right: 0;
  	font-family: "Lucida Console";
  	font-size: 13px;
  	color: #603000;
  }
  .abnc {
  	position: absolute;
  	left: 0; top: 18px; right: 100px;
  }
  .abbname {
  	position: absolute;
  	left: 0; top: 0; width: 100%;
  	font-family: "Lucida Console";
  	font-size: 16px;
  	padding: 3px;
  	color: #000000;
  	border: 1px solid #603000;
  }
  .abbsave {
  	position: absolute;
    right: 50px; top: 8px;
  }
  .abbdel {
  	position: absolute;
    right: 5px; top: 8px;
  }
  #nab {
  	position: absolute;
  	left: 180px; right: 140px; bottom: 90px;
  }
  #abnewwal {
  	position: absolute;
  	left: 0px; right: 0px; bottom: 42px;
  	width: 100%; height: 26px;
  	padding: 3px;
  	font-family: "Lucida Console";
  	font-size: 22px;
  	color: #000050;
  	border: 1px solid black;
  }
  #abnewname {
  	position: absolute;
  	left: 0px; right: 0px; bottom: 0px;
  	width: 100%; height: 26px;
  	padding: 3px;
  	font-family: "Lucida Console";
  	font-size: 22px;
  	color: #000050;
  	border: 1px solid black;
  }
  .eatit {
  	position: absolute;
  	left: 0; width: 170px;
  	text-align: right;
  	font-size: 16px;
  }
  #aeadd {
  	position: absolute;
  	right: 50px; bottom: 90px;
  	font-size: 18px;
  }
  #aeerr {
  	position: absolute;
  	left: 190px; bottom: 65px;
  	font-family: Verdana;
  	font-size: 16px;
  	color: red;
  	font-weight: bold;
  }
  #aeok {
  	position: absolute;
  	right: 30px; bottom: 15px;
  }
</style>

<body onload="start()">
</body>
  <div id="graybg"></div>
  <div id="refresh">The FCC Private server is offline.<br /><br />Please refresh the server and/or this site!</div>
  <div id="transconfirm">Confirm Transaction
  	<div class="tctit" style="top: 50px;">From</div>
  	<div id="tcfrom"></div>
  	<div class="tctit" style="top: 130px;">To</div>
  	<div id="tcout"></div>
  	<div class="tctit" style="bottom: 180px;">Wallet to send spare change to</div>
  	<div id="tcchange"></div>
  	<div class="tctit" style="bottom: 110px;">Total amount</div>
  	<div id="tctotal"></div>
  	<div id="tcok" class="selbut greenbut muis" onclick="tcok()">Confirm Transaction</div>
  	<div id="tccancel" class="selbut redbut muis" onclick="tccancel()">Cancel</div>
  </div>
  <div id="editadrbook">Edit Addressbook
  	<div id="ablist"></div>
  	<div class="tctit" style="bottom: 180px;">Create new entry</div>
  	<div class="eatit" style="bottom: 140px;">Wallet address</div>
  	<div class="eatit" style="bottom: 100px;">Name</div>
  	<div id="aeadd" class="selbut bluebut muis" onclick="aeadd()">Add</div>
  	<div id="aeerr"></div>
  	<div id="aeok" class="selbut greenbut muis" onclick="aeok()">Done</div>
  	<div id="nab">
  	  <input id="abnewwal" onkeyup="checkhex(event,'abnewwal')" onpaste="checkhexpaste('abnewwal')" />
  	  <input id="abnewname" />
  	</div>
  </div>
  <div id="status">Welcome to FCC Private Wallet v1.0</div>
  <div id="passbox" class="centbox loginbox"><b>Unlock your wallet</b><br /></br >
  <div class="tmarg">
   <table class="t">
    <tr><td class="itext">Password</td><td><input type="password" class="ival" id="wachtwoord" onkeydown="checksubmit(event,'passbut')" /></td></tr>
    <tr><td colspan="2"><div id="passerr" class="errtxt"></div></td></tr>
    <tr><td colspan="2" class="tdr"><div id="passbut" class="sbut muis" onclick="checkpass()">OK</div></td></tr>
   </table>
  </div></div>
  <div id="newpassbox" class="centbox loginbox"><b>Set a password to encrypt your wallet</b><br /></br >
  <div class="tmarg">
   <table class="t">
    <tr><td class="itext">Password</td><td><input type="password" class="ival" id="newpass" onkeydown="checkenter(event,'newpassvld')" /></td></tr>
    <tr><td class="itext">Repeat Password</td><td><input type="password" class="ival" id="newpassvld" onkeydown="checksubmit(event,'newpassbut')" /></td></tr>
    <tr><td colspan="2"><div id="newpasserr" class="errtxt"></div></td></tr>
    <tr><td class="tdr"><div id="newpassbut" class="sbut muis" onclick="setnewpass()">OK</div></td><td class="tdr"><div class="sbut cancbut muis" onclick="cancelnewpass()">Cancel</div></td></tr>
   </table>
  </div></div>
  <div id="active">
  	<img src="image/fcclogo.png" height="145" />
  	<div id="wallet"></div>
  	<img id="fcc" src="image/fccico.png" height="36" />
  	<div id="balance"></div>
  	<input id="walname" class="ival" autocomplete="off" onkeydown="checksubmit(event,'savewalbut')" onchange="savewalname()" />
  	<img id="savewalbut" src="image/save.png" height="42" class="muis" />
  	<div id="copywallet" class="selbut bluebut muis" onclick="copywal()">Copy</div>
  	<div id="copied"></div>
  	<div id="delwalbut" class="selbut redbut muis" onclick="delwal()">Delete wallet</div>
  </div>
  <div id="winleft">
    <div id="wallets">Your wallets<div class="space"></div></div>
    <div id="trans">Create a transaction
    	<div id="transbox">
				<div class="tfnt" style="top: 10px;">From</div><div id="from"></div>
				<div class="tfnt" style="top: 40px;">Amount</div>
				<input id="amount" onfocus="document.getElementById('amount').select()" onkeyup="checkdigit(event,'amount',1)" value="0.00000000" />
				<div class="tfnt" style="left: 345px; width: 40px; top: 40px;">Fee</div>
				<input id="fee" onfocus="document.getElementById('fee').select()" onkeyup="checkdigit(event,'fee',1)" value="0.5" />
				<div class="tfnt" style="left: 535px; top: 40px; width: 12px">%</div>
				<div class="tfnt" style="top: 70px;">To</div>
				<input id="to" onfocus="document.getElementById('to').select()" onkeyup="checkhex(event,'to')" onpaste="checkhexpaste('to')" />
				<select id="adrbook" class="adrbook" onchange="setadrbook()"><option value="" selected>Select from addressbook</option></select>
				<div class="tafnt" style="top: 100px; left: 95px;">Add to addressbook as: </div>
				<input id="newadrbook" onkeydown="checksubmit(event,'saveadrbook')" />
       	<img id="saveadrbook" src="image/save.png" height="38" class="muis" onclick="saveadrbook()" />
       	<div id="transerr" /></div>
       	<div id="addtransbut" class="selbut bluebut muis" onclick="addtrans()">Add Transaction</div>
       	<div id="transoutbox"></div>
       	<div class="tfnt" style="width: 170px; bottom: 40px;">Wallet for change</div>
       	<select id="change"></select>
       	<img id="ttot" src="image/fccico.png" height="24" />
       	<div id="transtotal">0.00000000</div>
       	<div id="transbut" onclick="transfer()" class="selbut greenbut muis">Transfer</div>
    	</div>
    </div>
    <div id="create" class="belowbut muis" onclick="createwallet()">Create new wallet</div>
    <div id="passprotect" class="belowbut muis" onclick="passprotect()">Password Protect</div>
    <div id="adrbookselect" class="belowbut muis" onclick="adrbookinterface()">Addressbook</div>
  </div>
  </div>
  <div id="winright">
    <div id="chat">
    	<div id="chatcont" class="cont"></div>
    	<div id="openchat" class="selbut greenbut muis" onclick="openchat()">Open Chatbox</div>
    </div>
    <div id="miner">
    	<div id="startminer" class="selbut greenbut muis" onclick="startminer()">Start Mining</div>
    	<div id="stopminer" class="selbut redbut muis" onclick="stopminer()">Stop Mining</div>
    	<div id="minewallet"></div>
    	<div id="mineoutput">Miner inactive</div>
    </div>
  </div>
</html>